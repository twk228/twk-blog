import "./Admin.scss";
import { Outlet, useNavigate } from "react-router-dom";
import { Layout, Button } from "antd";
import { useEffect, useState } from "react";
import {
  MenuFoldOutlined,
  MenuUnfoldOutlined,
  LeftOutlined,
} from "@ant-design/icons";
import AdminMenu from "./AdminComponents/AdminMenu/AdminMenu";

const { Header, Content, Sider } = Layout;

function Admin() {
  const navigate = useNavigate();
  const [collapsed, setCollapsed] = useState(false);
  const toggleCollapsed = () => {
    setCollapsed(!collapsed);
  };
  const toFront = () => {
    navigate("/front");
  };
  const logout = () => {
    localStorage.removeItem("token");
    navigate("/front");
  };

  useEffect(() => {}, []);
  return (
    <div className="Admin">
      <Layout style={{ height: "100vh" }}>
        <Sider className="sider" width={collapsed ? "60px" : "200px"}>
          <div className="logo-box">
            <svg
              t="1704682702094"
              className="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="2724"
              width="32"
              height="32"
            >
              <path
                d="M211.1984 99.7056c24.736-5.0304 50.3616-3.504 75.504-3.44l5.0208-0.008c164.9136 0.1776 329.8272-0.224 494.7408 0.1776 74.24 1.648 139.8352 68.304 140.8784 142.448l0.0112 2.32c0.8464 180.2032 0.6528 360.4656 0.5344 540.7744 0 77.0432-68.6992 146.1632-145.9552 145.984-181.464-0.1184-362.9136 0.224-544.3776-0.1184-75.3856-2.304-141.3648-70.2208-141.544-145.6736L96 580.8064c0.0256-100.6832 0.1536-201.3696 0.6352-302.0704l-0.1824-11.7344c-0.1856-15.6592-0.0192-31.3616 1.9056-46.8928 9.5984-57.808 55.9232-106.8912 112.84-120.4032z m562.512 55.4304H250.576c-52.8832 0-95.8896 42.2912-97.0432 94.8992l-0.0224 2.168v296.7712c0 52.7856 42.1408 95.7504 94.6496 97.0368l2.1632 0.0288 170.9232 0.4464a55.4672 55.4672 0 0 1 49.008 29.768l2.6096 4.9344c17.6032 32.9232 30.6128 49.384 39.0272 49.384 8.8448 0 22.888-18.232 42.128-54.6944a55.4672 55.4672 0 0 1 46.9632-29.5408l1.9824-0.04 170.776-0.344c52.7936-0.1072 95.6752-42.344 96.848-94.8624l0.024-2.1632 0.1248-296.7248 0.0416-0.0416c0-52.8832-42.2912-95.8896-94.8992-97.0032l-2.168-0.0224zM682.88 366.8832c20.7264-14.688 53.04-14.688 70.08 5.9456l-0.0608-4.96c-0.016-2.5136-0.0192-5.1712-0.0272-6.888 14.3216-0.128 28.6544-0.128 42.9968 0l0.0384 81.0128c0 13.5024-0.0096 27.0048-0.0384 40.5056-0.1792 21.8816-7.8752 45.3968-26.0896 58.776-15.808 11.9952-36.6368 13.3328-55.744 12.4704 0.0896-13.2144 0-26.4144 0-39.6432l6.536-0.24c8.3136-0.3584 16.928-1.3248 23.1776-7.1936 8.7808-8.5312 8.7808-21.5968 9.6432-32.984-21.424 20.3504-57.4976 20.9152-79.04 0.5056-29.936-28.3024-25.392-83.8816 8.528-107.3072z m-148.48-6.7344c26.816-7.5808 58.6096-3.4624 79.3056 16.352 27.68 25.864 25.6288 76.5376-5.1248 99.2208-35.5648 26.9392-98.2288 18.6688-116.8176-24.6592l-0.792-1.9344c-14.872-35.2576 5.6464-79.8528 43.4272-88.9792z m-294.2896-57.3472c14.2176 0.416 28.392 0.2384 42.5792 0.416-0.5488 22.8624 0.2528 45.8128-0.5488 68.704 20.3712-20.4832 55.9712-20.08 76.768-0.5568l1.336 1.3008c28.4208 27.3504 27.44 79.4208-2.9712 104.8992-20.8304 18.0608-56.8592 19.1008-74.8512-3.568l0.2672 12.976c-14.4256 0.1344-28.912 0.2832-43.352-0.296 0.64-61.2864-0.7136-122.6336 0.7728-183.8752z m154.304-4.208c13.12 0.4032 26.4768 3.272 37.0096 11.3584 18.72 13.6896 26.5952 37.9488 26.1488 60.4544-0.1632 38.8848 0.0896 77.7856-0.0896 116.6128-14.232 0.088-28.4416 0.088-42.624 0-0.64-38.872 0.816-77.8176-0.8176-116.6576 0.0896-12.8288-6.6864-25.672-19.6256-29.4176-0.2528-14.1072-0.0752-28.2128 0-42.3488z m192.5776 125.8304c2.3184-18.9088-18.6752-34.1152-36.1024-27.44-22.5376 6.2576-25.5088 41.576-4.7088 51.8768 17.264 10.3904 43.0848-3.6272 40.8112-24.4368z m-251.024-0.208c1.9008-19.712-20.384-34.8432-38.2128-26.504-21.5872 7.656-22.6128 42.5728-1.6048 51.744 17.4272 9.2896 41.5104-4.92 39.8176-25.24z m418.4336 0.0144c2.3328-19.6656-19.952-36.136-37.944-27.6928-20.8128 7.1792-23.12 39.8752-4.4896 50.624l1.1904 0.6448c17.2496 9.736 42.1952-2.8688 41.2432-23.576z"
                fill="#1296db"
                p-id="2725"
              ></path>
            </svg>
            {!collapsed ? <span className="title">个人博客后台</span> : ""}
          </div>
          <AdminMenu />
        </Sider>
        <Layout>
          {/* 头部导航 */}
          <Header className="header">
            <div className="full-width fl-btw-cen">
              <div>
                {collapsed ? (
                  <MenuUnfoldOutlined onClick={toggleCollapsed} />
                ) : (
                  <MenuFoldOutlined onClick={toggleCollapsed} />
                )}
                {/* 返回前台按钮 */}
                <Button
                  className="mr-l-15"
                  type="primary"
                  icon={<LeftOutlined />}
                  size="default"
                  onClick={toFront}
                >
                  返回前台
                </Button>
              </div>
              {/* 退出登录按钮 */}
              <Button
                type="primary"
                size="default"
                onClick={logout}
              >
                退出登录
              </Button>
            </div>
          </Header>
          {/* 主体部分 */}
          <Content className="content">
            <Outlet />
          </Content>
        </Layout>
      </Layout>
    </div>
  );
}

export default Admin;
